<!DOCTYPE html> <html lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Inferential Statistics - Do men or women oppose sex education? &middot; Sajal Sharma </title> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-28655816-2', 'auto'); ga('send', 'pageview'); </script> <link type="text/css" rel="stylesheet" href="/assets/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png"> <link rel="shortcut icon" type="image/png" href="/public/favicon.png"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <title>Inferential Statistics - Do men or women oppose sex education? | Sajal Sharma</title> <meta property="og:title" content="Inferential Statistics - Do men or women oppose sex education?" /> <meta name="author" content="Sajal Sharma" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Analysing the GSS (General Social Survey) dataset using R to infer if, in the year 2012, were men, of 18 years or above in the United States, more likely to oppose sex education in public schools than women." /> <meta property="og:description" content="Analysing the GSS (General Social Survey) dataset using R to infer if, in the year 2012, were men, of 18 years or above in the United States, more likely to oppose sex education in public schools than women." /> <link rel="canonical" href="http://www.sajalsharma.com/portfolio/gss_inferential" /> <meta property="og:url" content="http://www.sajalsharma.com/portfolio/gss_inferential" /> <meta property="og:site_name" content="Sajal Sharma" /> <script type="application/ld+json"> {"@context":"http://schema.org","@type":"WebPage","headline":"Inferential Statistics - Do men or women oppose sex education?","author":{"@type":"Person","name":"Sajal Sharma"},"description":"Analysing the GSS (General Social Survey) dataset using R to infer if, in the year 2012, were men, of 18 years or above in the United States, more likely to oppose sex education in public schools than women.","url":"http://www.sajalsharma.com/portfolio/gss_inferential"}</script> </head> <body> <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"> <div class="sidebar" id="sidebar"> <div class="sidebar-item"> <div> <img src="/public/biopic.jpg"> </div> <p>Welcome to the internet home of <a href="http://sajalsharma.com">Sajal Sharma</a>. Data Scientist, Software Engineer, and amateur Philosopher. </p> <p>Feel free to look around, check out my portfolio, or get in touch.</p> <div class="social-icons"> <a href="https://www.linkedin.com/in/sajals" target="_blank"><i class="fa fa-linkedin-square fa-2x" aria-hidden="true"></i></a> <a href="https://github.com/sajal2692" target="_blank"><i class="fa fa-github fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/sajal2692"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> </div> </div> <nav class="sidebar-nav"> <a class="sidebar-nav-item" href="/">Home</a> <a class="sidebar-nav-item" href="/portfolio">Portfolio</a> <a class="sidebar-nav-item" href="/about">About</a> <a class="sidebar-nav-item" href="/resume">Resume</a> <span class="sidebar-nav-item">Currently v1.0.1</span> </nav> <div class="sidebar-item"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i> + <a href="http://www.jekyllrb.com">Jekyll</a>.</p> <p> &copy; 2017 Sajal Sharma. All rights reserved. </p> </div> </div> <div class="wrap"> <div class="masthead"> <div class="container"> </div> </div> <div class="container content"> <div class="notebook"> <h1 class="notebook-title">Inferential Statistics - Do men or women oppose sex education?</h1> <div class="project-skills"> Skills: Hypothesis testing, R, ggplot, dplyr </div> <a target="_blank" href=http://rpubs.com/sajal_sharma/inferential_statistics>RPubs</a> <hr /> <p>In this project, we will use inferential statistics to find out if men or women oppose sex education in public schools. As the data we have is a sample from the population, it’s important to use a hypothesis driven approach to draw conclusions from the sample.</p> <p>Let’s get started.</p> <p><em>The project was completed as a part of Duke University’s ‘Introduction to Probability and Data’ online course on Coursera, the first of the Statistics with R Specialization.</em></p> <h3 id="load-packages">Load packages</h3> <div class="highlighter-rouge"><pre class="highlight"><code>library(ggplot2)
library(dplyr)
library(statsr)
</code></pre></div> <h3 id="load-data">Load data</h3> <div class="highlighter-rouge"><pre class="highlight"><code>load("gss.Rdata")
</code></pre></div> <hr /> <h2 id="part-1-data">Part 1: Data</h2> <p>According to the <a href="http://gss.norc.org/documents/codebook/GSS_Codebook_intro.pdf">documentation</a>, the data in the General Social Survey (GSS) is collected from an independently drawn sample of English-speaking persons (and Spanish-speaking persons, beginning from 2006) 18 years of age or above, living in non-institutional arrangements within the United States. Full probability sampling was employed in all surveys beginning from 1977.</p> <p>As <a href="http://www.socialresearchmethods.net/kb/sampprob.php">probability sampling</a> was used, we know that random selection was was a part of the sampling process. Thus, the data is generalizable to the population as a whole. But, since the study is an observational study, and not experimental, we cannot use it to determine causality between variables in the data.</p> <hr /> <h2 id="part-2-research-question">Part 2: Research question</h2> <p>In the year 2012, were men, of 18 years or above, more likely to oppose sex education in public schools than women?</p> <p>Sex education is an important part of a student’s schooling, so they are aware of their own health and make the correct decisions in life. If we know that there’s a chance of difference between men and women’s attitude towards sex education, we can put in the resources for further research to determine the cause of this difference, and solve the issue.</p> <hr /> <h2 id="part-3-exploratory-data-analysis">Part 3: Exploratory data analysis</h2> <p>We’ll start with filtering out the data for the year 2012, and then selecting the variables we’re interested in. These are</p> <ul> <li>sex: Respondent’s sex</li> <li> <p>sexeduc: For or against sex education in public schools</p> <p>dataset &lt;- filter(gss, year == 2012) %&gt;% select(sex,sexeduc)</p> </li> </ul> <p>Let’s look at the type of variables we’re dealing with:</p> <div class="highlighter-rouge"><pre class="highlight"><code>str(dataset)

## 'data.frame':    1974 obs. of  2 variables:
##  $ sex    : Factor w/ 2 levels "Male","Female": 1 1 1 2 2 2 2 2 2 2 ...
##  $ sexeduc: Factor w/ 3 levels "Favor","Oppose",..: 1 NA NA 1 1 1 1 NA 1 NA ...
</code></pre></div> <p>The sex variable has two levels, and the sexeduc has 3 levels. Let’s plot the data:</p> <div class="highlighter-rouge"><pre class="highlight"><code>ggplot(dataset, aes(x=sexeduc)) + geom_bar() + ggtitle('Favourability to Sex Education in Public Schools') + xlab('Favour or Oppose Sex Education') + theme_bw()
</code></pre></div> <p><img src="/public/project-images/gss_inf/unnamed-chunk-3-1.png" alt="png" /></p> <p>It seems like more people favor sex education and oppose it. Which is good!</p> <p>We also have a lot of NA values that we don’t want to deal with for our question, so let’s remove those, and take a look at the new distribution.</p> <div class="highlighter-rouge"><pre class="highlight"><code>dataset &lt;- na.omit(dataset)

table(dataset)

##         sexeduc
## sex      Favor Oppose Depends
##   Male     519     64       0
##   Female   638     53       0
</code></pre></div> <p>It looks like that, in our sample, there are more males than females that oppose sex education. We also have no responses for the ‘Depends’ category, so let’s remove that and visualize our data.</p> <div class="highlighter-rouge"><pre class="highlight"><code>dataset &lt;- droplevels(dataset)

mosaicplot(prop.table(table(dataset),1), main = 'Sex vs Favourability of Sex Education')
</code></pre></div> <p><img src="/public/project-images/gss_inf/unnamed-chunk-5-1.png" alt="png" /></p> <p>Now, we’ll use statistical inference to know if a larger propertion of men than women, oppose sex education for the whole population.</p> <hr /> <h2 id="part-4-inference">Part 4: Inference</h2> <h4 id="hypotheses">Hypotheses:</h4> <p>For our question, the null hypotheses is, there’s no difference in the proportions of men and women that oppose sex education.</p> <p>The alternative hypotheses is, a larger proportion of men, than women, oppose sex education.</p> <h4 id="conditions">Conditions:</h4> <p>We now check the conditions for inference, for a difference in proportion.</p> <ul> <li>Each proportion follows a normal model.</li> <li>The two samples are independent of each other.</li> </ul> <p>And for each model to follow a nearly normal model,</p> <ul> <li>The sample observations are independent, which can be assumed true as the observations were sampled randomly from a large population.</li> <li>Success-failure condition: We expect to see at-least 10 succeses and 10 failures in our sample. Even iff we assume that a succes, for our question, means opposing sex education, both men and women, have more than 10 samples for Favors and Oppositions. So this condition holds true as well.</li> </ul> <p>The conditions for inference on a difference in proportion also holds true because we’ve determined each proportion to follow a normal model. And that the two samples are independent from each other because of random sampling.</p> <h4 id="methods">Methods:</h4> <p>We’ll examine the difference in proportions of men and women who oppose sex education by:</p> <ol> <li> <p>Calculating the p-value for the hypotheses that a higher proportion of men oppose sex education, given our sample. Then deciding if the p-value is small or large enough to reject, or not reject the null hypotheses.</p> </li> <li> <p>Checking a 95% confidence interval for the difference in the proportions, and seeing if it contains 0 i.e. there is no difference.</p> </li> </ol> <h4 id="p-value">P-value:</h4> <div class="highlighter-rouge"><pre class="highlight"><code>inference(x= sex,y = sexeduc, data = dataset, statistic = "proportion", type = "ht", null = 0 ,method = "theoretical",alternative="greater", success = "Oppose")

## Response variable: categorical (2 levels, success: Oppose)
## Explanatory variable: categorical (2 levels)
## n_Male = 583, p_hat_Male = 0.1098
## n_Female = 691, p_hat_Female = 0.0767
## H0: p_Male =  p_Female
## HA: p_Male &gt; p_Female
## z = 2.0367
## p_value = 0.0208
</code></pre></div> <p><img src="/public/project-images/gss_inf/unnamed-chunk-6-1.png" alt="png" /></p> <p>We can see that the p-value is less than 5%, so for this question, we reject the null hypotheses and conclude that for our population in general, a larger proportion of males, compared to females, oppose sex education.</p> <h4 id="confidence-interval">Confidence Interval</h4> <p>Reason for including CI: We’re constructing a confidence interval for our hypotheses test, to double check the results of the method with the p-value test.</p> <div class="highlighter-rouge"><pre class="highlight"><code>inference(x= sex,y = sexeduc, data = dataset, statistic = "proportion", type = "ci",method = "theoretical", success = "Oppose")

## Response variable: categorical (2 levels, success: Oppose)
## Explanatory variable: categorical (2 levels)
## n_Male = 583, p_hat_Male = 0.1098
## n_Female = 691, p_hat_Female = 0.0767
## 95% CI (Male - Female): (9e-04 , 0.0653)
</code></pre></div> <p><img src="/public/project-images/gss_inf/unnamed-chunk-7-1.png" alt="png" /></p> <p>The 95% confidence interval for the difference between proportions of males and females that oppose sex education is between 0.0009 to 0.0653. So even though the difference is really small, it still exists. Hence the results for both tests agree, and we can say that a greater proportion of men, than females, oppose sex education, and steps can be taken to better educate the men on the issue.</p> </div> <hr> <div class="back-to-top"> <i class="fa fa-arrow-circle-up fa-2x animated infinite pulse" aria-hidden="true"></i> </div> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> </div> </div> <label for="sidebar-checkbox" class="sidebar-toggle"></label> <script> (function(document) { var toggle = document.querySelector('.sidebar-toggle'); var sidebar = document.querySelector('#sidebar'); var checkbox = document.querySelector('#sidebar-checkbox'); document.addEventListener('click', function(e) { var target = e.target; if(!checkbox.checked || sidebar.contains(target) || (target === checkbox || target === toggle)) return; checkbox.checked = false; }, false); })(document); </script> <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"> </script> <script> $(".back-to-top i").click(function(){ $('body,html').animate({ scrollTop: 0 }, 2000); }); </script> </body> </html>
